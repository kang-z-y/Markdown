# 内部类

- 类的五大成员：属性、方法、构造方法、代码块、内部类

---

- 内部类表示的事物是外部类的一部分
- 内部类单独出现没有任何意义
- 内部类的访问特点：
  - 内部类可以单独访问外部类的成员，包括私有
  - 外部类要访问内部类的成员，必须创建对象

---

## 内部类的分类

### 成员内部类

- 写在成员位置的，属于外部类的成员。
- 成员内部类可以被一些修饰符所修饰，比如：private，默认，protected，public，static等。
- 在成员内部类里面JDK16之前不能定义静态变量，JDK16开始才可以定义静态变量。

#### 获取成员内部类的对象

##### 方式一

- **在外部类中编写方法，对外提供内部类的对象**（private）

##### 方式二

- **直接创建，格式：外部类名.内部类名 对象名 = 外部类对象.内部类对象;**

#### 外部类成员变量与内部类成员变量重名时，如何访问？

`System.out.println(Outer.this.变量名);`

---

### 静态内部类

1. 静态内部类也是成员内部类中的一种

2. 静态内部类只能访问外部类中的静态变量和静态方法，如果想要访问非静态的需要创建对象。

#### 创建静态内部类对象的格式

- 外部类名.内部类名 对象名 = new 外部类名.内部类名();

  `Outer.Inner oi = new Outer.Inner();`

#### 调用非静态方法的格式

- 先创建对象，用对象调用

#### 调用静态方法的格式

- 外部类名.内部类名.方法名();

---

### 局部内部类

1. 将内部类定义在方法里面就叫做局部内部类，类似于方法里面的局部变量。
2. 外界无法直接使用，需要在方法内部创建对象并使用。
3. 该类可以直接访问外部类的成员，也可以访问方法内的局部变量。

---

### 匿名内部类

- 匿名内部类本质上就是隐藏了名字的内部类，可以写在成员位置，也可以写在局部位置。

#### 格式

```java
new 类名或者接口名() {
    重写方法;
}
```

#### 格式的细节

- **继承\实现->方法重写->创建对象**

#### 使用场景

- 当方法的参数是接口或者类时，

  以接口为例，可以传递这个接口的实现类对象，

  如果实现类只要使用一次，就可以用匿名内部类简化代码。
